# quote-bot
Telegram бот конструктор цитат для Гражданского Общества

## Установка зависимостей и запуск

Создайте новое python окружение и выполните
```
pip install poetry
poetry install --no-root
pre-commit install
poetry run bot
```

Файл .env должен лежать в корне проекта:
```
TOKEN="Ваш токен Telegram"
```
Либо переменная окружения TOKEN должна быть задана

Перед новым коммитом запускайте `make pre-commit`

## Привязка к чату

Права доступа к боту ограничены. Только пользователи, которые есть в чате, могут создавать цитаты.
Только администраторы чата могут добавлять и удалять шаблоны для плакатов.
Чтобы привязать бота к чату нужно:
* Добавить бота в чат (без прав администратора)
* Отправить в чате команду боту /chat_id
* Посмотреть идентификатор чата в ответном сообщении от бота
* Идентификатор чата записать в файле settings.py
```python
    @classmethod
    def access_chat_id(cls) -> int:
        return -1001306836357  # Идентификатор чата
```
